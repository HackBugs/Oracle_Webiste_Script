(()=>{"use strict";class e{constructor(){}fireEvent(e,t,i){var n;if("createEvent"in document){if((n=document.createEvent("HTMLEvents")).view=window,"object"==typeof i)for(var[s,o]of Object.entries(i))n[s]=o;n.initEvent(t,!1,!0),e.dispatchEvent(n)}else{if((n=document.createEventObject()).eventType=t,"object"==typeof i)for(var[r,l]of Object.entries(i))n[r]=l;e.fireEvent("on"+n.eventType,n)}}}const t="is";class i{constructor(t){this.config=this.setFromConfig({enabled:!0,useVignetteLoader:!1,fireEventName:"ezCMPImpression",impressionSource:"cmp",loaderElementId:"ez-cookie-loader-wrapper",urlAddition:"utm_content=cmp-true",disableFloor:!1},t=t||{}),this.eventFirer=new e}_urlUpdater(e){return-1==e.indexOf("?")?e+="?"+this.config.urlAddition:e+="&"+this.config.urlAddition,e}setFromConfig(e,t){var i={};return Object.entries(e).forEach((e=>{var[e,n]=e;i[e]=e in t?t[e]:n})),i}fireImpEvent(e,t,i){this.eventFirer.fireEvent(document.body,this.config.fireEventName,{slot:e,key:t,value:i})}_setDisplayLoader(e){var t;!1!==this.config.useVignetteLoader&&(t=document.getElementById(this.config.loaderElementId))&&(t.style.display=1==e?"":"none")}handleClick(){var e,i,n,s,o,r,l,a;return 0!=this.config.enabled&&""==this._getCookie("ezvignetteviewed")&&(s=window.location.href,"undefined"!=typeof googletag)&&"undefined"!=typeof ezslot_interstitial&&null!=ezslot_interstitial&&-1==s.indexOf(this.config.urlAddition)&&(s=this._urlUpdater(s),(e=document.createElement("a")).id="ez-accept-all-a",e.href=s,document.body.append(e),i=null,n=function(){null!==i&&(clearTimeout(i),i=null)},s=function(t){n(),0==this._isSlotEmpty(t)&&(this.fireImpEvent(t,"impression_source",this.config.impressionSource),e.click())}.bind(this),o=function(e){},r=s,l=function(e){e.getTargeting(t)===this.config.impressionSource&&this._getSlotKeyValueAsInt(e,"br1")<a&&(n(),this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(e),r=o)}.bind(this),(a=0)==this.config.disableFloor&&(a=this._getSlotKeyValueAsInt(ezslot_interstitial,"br2")),googletag.pubads().addEventListener("slotResponseReceived",(function(e){"undefined"!=typeof ezslot_interstitial&&null!=ezslot_interstitial&&(e=e.slot)===ezslot_interstitial&&l(e)})),googletag.pubads().addEventListener("slotOnload",function(e){"undefined"!=typeof ezslot_interstitial&&null!=ezslot_interstitial&&(e=e.slot)===ezslot_interstitial&&(n(),this._setDisplayLoader(!1),r(e),r=o)}.bind(this)),i=setTimeout(function(){this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(ezslot_interstitial),r=o}.bind(this),8e3),this._setImpressionSourceTargeting(ezslot_interstitial),!1===this._isSlotEmpty(ezslot_interstitial)?(n(),l(ezslot_interstitial),r(ezslot_interstitial),r=o):this._isFilling(ezslot_interstitial)?this._setDisplayLoader(!0):(n(),this._setDisplayLoader(!1),this._clearImpressionSourceTargeting(ezslot_interstitial),r=o),!0)}_setImpressionSourceTargeting(e){e.setTargeting(t,this.config.impressionSource)}_clearImpressionSourceTargeting(e){e.clearTargeting(t)}_isFilling(e){return this._getSlotKeyValueAsInt(e,"ic")<10}_isSlotEmpty(e){return null==(e=e.getResponseInformation())||null===e.sourceAgnosticCreativeId||null===e.sourceAgnosticLineItemId}_getSlotKeyValueAsInt(e,t){return e=e.getTargeting(t),Array.isArray(e)&&0<e.length?parseInt(e[0],10):-1}_getCookie(e){var t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let n=i[e];for(;" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}}void 0===window.newEzVignette&&(window.newEzVignette=function(e){return new i(e)})})();