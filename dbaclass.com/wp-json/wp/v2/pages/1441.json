{"id":1441,"date":"2016-12-23T11:45:08","date_gmt":"2016-12-23T11:45:08","guid":{"rendered":"http:\/\/dbaclass.com\/?page_id=1441"},"modified":"2017-01-18T02:17:51","modified_gmt":"2017-01-18T02:17:51","slug":"upgrade-oracle-grid-infrastructure-from-11g-to-12c","status":"publish","type":"page","link":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/","title":{"rendered":"Upgrade oracle  grid infrastructure from 11g to 12C"},"content":{"rendered":"<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Below are steps for upgrading Oracle grid infrastructure from 11.2.0.4 to 12.1.0.2<\/span><\/p>\n<h4><span style=\"color: #000000; font-family: 'andale mono', monospace;\">PRECHECK:<\/span><\/h4>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">1. Check the active version:[ from grid owner]<\/span><\/strong><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> crsctl query crs activeversion<\/span><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> Oracle Clusterware active version on the cluster is [11.2.0.4.0]<\/span><\/p>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">2.Collect the crs status by running below commands[ grid owner]<\/span><\/strong><\/p>\n<pre>\/crsapp\/app\/oracle\/product\/grid\/bin\/crsctl check crs\r\n\/crsapp\/app\/oracle\/product\/grid\/bin\/crsctl stat res -t\r\n\/crsapp\/app\/oracle\/product\/grid\/bin\/crsctl stat res -p\r\n\/crsapp\/app\/oracle\/product\/grid\/bin\/oifcfg iflist -p -n\r\n\/crsapp\/app\/oracle\/product\/grid\/bin\/oifcfg getif\r\n\/crsapp\/app\/oracle\/product\/grid\/bin\/ocrcheck\r\n<\/pre>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">3. Take backup of OCR:<\/span><\/strong><\/p>\n<pre>.\/ocrconfig -export \/softdump\/BACKUP\/pre_upgrade_backup\/ocr_file\r\n<\/pre>\n<p><strong><span style=\"font-family: 'andale mono', monospace; color: #000000;\">4. Download the copy the 12c grid software to the server:<\/span><\/strong><\/p>\n<p><span style=\"font-family: 'andale mono', monospace; color: #000000;\">total 135<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> -rwxr-xr-x 1 oracle oinstall 500 Feb 6 2013 welcome.html<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> -rwxr-xr-x 1 oracle oinstall 5085 Dec 31 2013 runcluvfy.sh<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxr-xr-x 2 oracle oinstall 5 Jul 8 2014 udlm<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> -rwxr-xr-x 1 oracle oinstall 16869 Jul 8 2014 runInstaller<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxr-xr-x 2 oracle oinstall 2 Jul 8 2014 rpm<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxrwxr-x 2 oracle oinstall 3 Jul 8 2014 sshsetup<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxrwxr-x 2 oracle oinstall 3 Jul 8 2014 response<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxr-xr-x 14 oracle oinstall 30 Jul 8 2014 stage<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> -rwxr-xr-x 1 oracle oinstall 33934 Aug 24 2015 readme.html<\/span><br \/>\n<span style=\"font-family: 'andale mono', monospace; color: #000000;\"> drwxr-xr-x 4 oracle oinstall 16 Dec 18 12:44 install<\/span><\/p>\n<p><strong><span style=\"font-family: 'andale mono', monospace; color: #000000;\">5. Run the cluvfy script for precheck:<\/span><\/strong><\/p>\n<pre>.\/runcluvfy.sh stage -pre crsinst -upgrade -rolling -src_crshome \/crsapp\/app\/oracle\/product\/grid11204 -dest_crshome \/crsapp\/app\/oracle\/product\/grid12c -dest_version 12.1.0.2.0 -fixup -verbose\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">Find the output here:<\/span><\/strong> \u00a0\u00a0<strong><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/cluvfy_output.txt\">cluvfy_output<\/a><\/strong><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">Make sure the cluvfy executed successfully. If any error, please take action before proceeding.<\/span><\/p>\n<p><span style=\"font-family: 'andale mono', monospace;\"><strong><span style=\"color: #000000;\">6. Unset all the environment variables:<\/span><\/strong><\/span><\/p>\n<pre>unset ORACLE_BASE\r\nunset ORACLE_HOME\r\nunset ORACLE_SID\r\nunset ORA_CRS_HOME\r\nunset ORA_NLS10\r\nunset TNS_ADMIN\r\nenv |grep ORA\r\n<\/pre>\n<p><span style=\"font-family: 'andale mono', monospace; color: #000000;\"><strong>7. Stop the database\/services running in grid<\/strong><\/span><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">srvctl stop database -d DBAPROD<\/span><\/p>\n<p><strong><span style=\"font-family: 'andale mono', monospace; color: #000000;\">8. Take backup of Grid binary:<\/span><\/strong><\/p>\n<p><span style=\"font-family: 'andale mono', monospace; color: #000000;\">tar -cvf grid_home_preupg.tar $GRID_HOME<\/span><\/p>\n<h4><strong>UPGRADE:<\/strong><\/h4>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">9 . Now start the upgrade using runInstaller<\/span><\/strong><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">[\/softdump\/12c_software\/grid].\/runInstaller<\/span><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">Starting Oracle Universal Installer&#8230;<\/span><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> Checking Temp space: must be greater than 180 MB.\u00a0\u00a0 Actual 2734 MB\u00a0\u00a0\u00a0 Passed<\/span><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> Checking swap space: must be greater than 150 MB.\u00a0\u00a0 Actual 1592183 MB\u00a0\u00a0\u00a0 Passed<\/span><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> Checking monitor: must be configured to display at least 256 colors.\u00a0\u00a0\u00a0 Actual 16777216\u00a0\u00a0\u00a0 Passed<\/span><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">[\/softdump\/12c_software\/grid]You can find the log of this install session at: wait &#8230;<\/span><\/p>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1442\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\" alt=\"grid1\" width=\"809\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1-300x226.png 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1-600x452.png 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid2.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1443\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid2.jpg\" alt=\"grid2\" width=\"806\" height=\"613\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid2.jpg 806w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid2-300x228.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid2-600x456.jpg 600w\" sizes=\"(max-width: 806px) 100vw, 806px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid3.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1444\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid3.jpg\" alt=\"grid3\" width=\"808\" height=\"613\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid3.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid3-300x228.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid3-600x455.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid4.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1445\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid4.jpg\" alt=\"grid4\" width=\"809\" height=\"613\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid4.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid4-300x227.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid4-600x455.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid5.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1446\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid5.jpg\" alt=\"grid5\" width=\"807\" height=\"613\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid5.jpg 807w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid5-300x228.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid5-600x456.jpg 600w\" sizes=\"(max-width: 807px) 100vw, 807px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid6.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1447\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid6.jpg\" alt=\"grid6\" width=\"807\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid6.jpg 807w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid6-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid6-600x453.jpg 600w\" sizes=\"(max-width: 807px) 100vw, 807px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid7.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1448\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid7.jpg\" alt=\"grid7\" width=\"810\" height=\"608\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid7.jpg 810w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid7-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid7-600x450.jpg 600w\" sizes=\"(max-width: 810px) 100vw, 810px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid8.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1449\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid8.jpg\" alt=\"grid8\" width=\"810\" height=\"608\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid8.jpg 810w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid8-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid8-600x450.jpg 600w\" sizes=\"(max-width: 810px) 100vw, 810px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid9.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1450\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid9.jpg\" alt=\"grid9\" width=\"808\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid9.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid9-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid9-600x452.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid10.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1451\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid10.jpg\" alt=\"grid10\" width=\"809\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid10.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid10-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid10-600x452.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid11.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1452\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid11.jpg\" alt=\"grid11\" width=\"809\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid11.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid11-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid11-600x452.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid12.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1453\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid12.jpg\" alt=\"grid12\" width=\"961\" height=\"637\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid12.jpg 961w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid12-300x199.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid12-600x398.jpg 600w\" sizes=\"(max-width: 961px) 100vw, 961px\" \/><\/a><br \/>\n<strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">10. Run the scripts on the local node:[ from root]<\/span><\/strong><\/p>\n<pre>root #\/crsapp\/app\/oracle\/product\/grid12c\/rootupgrade.sh\r\nPerforming root user operation.\r\n\r\nThe following environment variables are set as:\r\n    ORACLE_OWNER= oracle\r\n    ORACLE_HOME=  \/crsapp\/app\/oracle\/product\/grid12c\r\nEnter the full pathname of the local bin directory: [\/usr\/local\/bin]:\r\nThe contents of \"dbhome\" have not changed. No need to overwrite.\r\nThe file \"oraenv\" already exists in \/usr\/local\/bin.  Overwrite it? (y\/n) [n]: y\r\n   Copying oraenv to \/usr\/local\/bin ...\r\nThe file \"coraenv\" already exists in \/usr\/local\/bin.  Overwrite it? (y\/n) [n]: y\r\n   Copying coraenv to \/usr\/local\/bin ...\r\nEntries will be added to the \/var\/opt\/oracle\/oratab file as needed by\r\nDatabase Configuration Assistant when a database is created\r\nFinished running generic part of root script.\r\nNow product-specific root actions will be performed.\r\nUsing configuration parameter file: \/crsapp\/app\/oracle\/product\/grid12c\/crs\/install\/crsconfig_params\r\n2016\/12\/18 18:33:21 CLSRSC-4015: Performing install or upgrade action for Oracle Trace File Analyzer (TFA) Collector.\r\n2016\/12\/18 18:33:23 CLSRSC-4003: Successfully patched Oracle Trace File Analyzer (TFA) Collector.\r\n2016\/12\/18 18:33:31 CLSRSC-464: Starting retrieval of the cluster configuration data\r\n2016\/12\/18 18:33:53 CLSRSC-465: Retrieval of the cluster configuration data has successfully completed.\r\n2016\/12\/18 18:33:54 CLSRSC-363: User ignored prerequisites during installation\r\n2016\/12\/18 18:34:25 CLSRSC-515: Starting OCR manual backup.\r\n2016\/12\/18 18:34:31 CLSRSC-516: OCR manual backup successful.\r\n2016\/12\/18 18:34:42 CLSRSC-468: Setting Oracle Clusterware and ASM to rolling migration mode\r\n2016\/12\/18 18:34:42 CLSRSC-482: Running command: '\/crsapp\/app\/oracle\/product\/grid12c\/bin\/asmca -silent -upgradeNodeASM -nonRolling false -oldCRSHome \/crsapp\/app\/oracle\/                             product\/grid11204 -oldCRSVersion 11.2.0.4.0 -nodeNumber 1 -firstNode true -startRolling true'\r\n\r\nASM configuration upgraded in local node successfully.\r\n2016\/12\/18 18:34:54 CLSRSC-469: Successfully set Oracle Clusterware and ASM to rolling migration mode\r\n2016\/12\/18 18:34:54 CLSRSC-466: Starting shutdown of the current Oracle Grid Infrastructure stack\r\n2016\/12\/18 18:35:29 CLSRSC-467: Shutdown of the current Oracle Grid Infrastructure stack has successfully completed.\r\n\r\nOLR initialization - successful\r\n2016\/12\/18 18:41:19 CLSRSC-329: Replacing Clusterware entries in file '\/etc\/inittab'\r\n\r\nCRS-4133: Oracle High Availability Services has been stopped.\r\nCRS-4123: Oracle High Availability Services has been started.\r\n2016\/12\/18 18:47:12 CLSRSC-472: Attempting to export the OCR\r\n\r\n2016\/12\/18 18:47:12 CLSRSC-482: Running command: 'ocrconfig -upgrade oracle oinstall'\r\n\r\n2016\/12\/18 18:47:25 CLSRSC-473: Successfully exported the OCR\r\n\r\n2016\/12\/18 18:47:33 CLSRSC-486:\r\n At this stage of upgrade, the OCR has changed.\r\n Any attempt to downgrade the cluster after this point will require a complete cluster outage to restore the OCR.\r\n\r\n2016\/12\/18 18:47:33 CLSRSC-541:\r\n To downgrade the cluster:\r\n 1. All nodes that have been upgraded must be downgraded.\r\n\r\n2016\/12\/18 18:47:33 CLSRSC-542:\r\n 2. Before downgrading the last node, the Grid Infrastructure stack on all other cluster nodes must be down.\r\n\r\n2016\/12\/18 18:47:34 CLSRSC-543:\r\n 3. The downgrade command must be run on the node sec61-2 with the '-lastnode' option to restore global configuration data.\r\n2016\/12\/18 18:48:01 CLSRSC-343: Successfully started Oracle Clusterware stack\r\nclscfg: EXISTING configuration version 5 detected.\r\nclscfg: version 5 is 11g Release 2.\r\nSuccessfully taken the backup of node specific configuration in OCR.\r\nSuccessfully accumulated necessary OCR keys.\r\nCreating OCR keys for user 'root', privgrp 'root'..\r\nOperation successful.\r\n2016\/12\/18 18:48:28 CLSRSC-474: Initiating upgrade of resource types\r\n2016\/12\/18 18:48:59 CLSRSC-482: Running command: 'upgrade model  -s 11.2.0.4.0 -d 12.1.0.2.0 -p first'\r\n2016\/12\/18 18:48:59 CLSRSC-475: Upgrade of resource types successfully initiated.\r\n2016\/12\/18 18:49:13 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded\r\n<\/pre>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">11. Now run the script on other node:<\/span><\/strong><\/p>\n<pre class=\"\">root@sec61-2 # \/crsapp\/app\/oracle\/product\/grid12c\/rootupgrade.sh\r\nPerforming root user operation.\r\n\r\nThe following environment variables are set as:\r\n    ORACLE_OWNER= oracle\r\n    ORACLE_HOME=  \/crsapp\/app\/oracle\/product\/grid12c\r\n\r\nEnter the full pathname of the local bin directory: [\/usr\/local\/bin]:\r\nThe contents of \"dbhome\" have not changed. No need to overwrite.\r\nThe file \"oraenv\" already exists in \/usr\/local\/bin.  Overwrite it? (y\/n) [n]: y\r\n   Copying oraenv to \/usr\/local\/bin ...\r\nThe file \"coraenv\" already exists in \/usr\/local\/bin.  Overwrite it? (y\/n) [n]: y\r\n   Copying coraenv to \/usr\/local\/bin ...\r\n\r\nEntries will be added to the \/var\/opt\/oracle\/oratab file as needed by\r\nDatabase Configuration Assistant when a database is created\r\nFinished running generic part of root script.\r\nNow product-specific root actions will be performed.\r\nUsing configuration parameter file: \/crsapp\/app\/oracle\/product\/grid12c\/crs\/install\/crsconfig_params\r\n2016\/12\/18 18:52:19 CLSRSC-4015: Performing install or upgrade action for Oracle Trace File Analyzer (TFA) Collector.\r\n\r\n2016\/12\/18 18:52:21 CLSRSC-4003: Successfully patched Oracle Trace File Analyzer (TFA) Collector.\r\n\r\n2016\/12\/18 18:52:24 CLSRSC-464: Starting retrieval of the cluster configuration data\r\n\r\n2016\/12\/18 18:52:38 CLSRSC-465: Retrieval of the cluster configuration data has successfully completed.\r\n\r\n2016\/12\/18 18:52:38 CLSRSC-363: User ignored prerequisites during installation\r\n\r\n\r\nASM configuration upgraded in local node successfully.\r\n\r\n2016\/12\/18 18:53:02 CLSRSC-466: Starting shutdown of the current Oracle Grid Infrastructure stack\r\n\r\n2016\/12\/18 18:53:37 CLSRSC-467: Shutdown of the current Oracle Grid Infrastructure stack has successfully completed.\r\n\r\nOLR initialization - successful\r\n2016\/12\/18 18:54:16 CLSRSC-329: Replacing Clusterware entries in file '\/etc\/inittab'\r\n\r\nCRS-4133: Oracle High Availability Services has been stopped.\r\nCRS-4123: Oracle High Availability Services has been started.\r\n2016\/12\/18 18:57:50 CLSRSC-343: Successfully started Oracle Clusterware stack\r\n\r\nclscfg: EXISTING configuration version 5 detected.\r\nclscfg: version 5 is 12c Release 1.\r\nSuccessfully taken the backup of node specific configuration in OCR.\r\nSuccessfully accumulated necessary OCR keys.\r\nCreating OCR keys for user 'root', privgrp 'root'..\r\nOperation successful.\r\nStart upgrade invoked..\r\n2016\/12\/18 18:58:19 CLSRSC-478: Setting Oracle Clusterware active version on the last node to be upgraded\r\n\r\n2016\/12\/18 18:58:20 CLSRSC-482: Running command: '\/crsapp\/app\/oracle\/product\/grid12c\/bin\/crsctl set crs activeversion'\r\n\r\nStarted to upgrade the Oracle Clusterware. This operation may take a few minutes.\r\nStarted to upgrade the OCR.\r\nStarted to upgrade the CSS.\r\nThe CSS was successfully upgraded.\r\nStarted to upgrade Oracle ASM.\r\nStarted to upgrade the CRS.\r\nThe CRS was successfully upgraded.\r\nSuccessfully upgraded the Oracle Clusterware.\r\nOracle Clusterware operating version was successfully set to 12.1.0.2.0\r\n2016\/12\/18 19:00:15 CLSRSC-479: Successfully set Oracle Clusterware active version\r\n\r\n2016\/12\/18 19:00:23 CLSRSC-476: Finishing upgrade of resource types\r\n\r\n2016\/12\/18 19:00:42 CLSRSC-482: Running command: 'upgrade model  -s 11.2.0.4.0 -d 12.1.0.2.0 -p last'\r\n\r\n2016\/12\/18 19:00:42 CLSRSC-477: Successfully completed upgrade of resource types\r\n\r\n2016\/12\/18 19:01:46 CLSRSC-325: Configure Oracle Grid Infrastructure for a Cluster ... succeeded\r\n<\/pre>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid13.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1454\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid13.jpg\" alt=\"grid13\" width=\"809\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid13.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid13-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid13-600x452.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p><strong><span style=\"color: #000000; font-family: 'andale mono', monospace;\">12. Check the grid active version:( It shoulde be 12.1.0.2)<\/span><\/strong><\/p>\n<pre>[+ASM1@sec60-2]\/export\/home\/oracle# crsctl query crs activeversion\r\nOracle Clusterware active version on the cluster is [12.1.0.2.0]\r\n[+ASM1@sec60-2]\/export\/home\/oracle# crsctl check crs\r\nCRS-4638: Oracle High Availability Services is online\r\nCRS-4537: Cluster Ready Services is online\r\nCRS-4529: Cluster Synchronization Services is online\r\nCRS-4533: Event Manager is online\r\n\r\n<\/pre>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">With this upgrade has been completed successfully.<\/span><\/p>\n<p><iframe style=\"width:120px;height:240px;\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" frameborder=\"0\" src=\"\/\/ws-in.amazon-adsystem.com\/widgets\/q?ServiceVersion=20070822&#038;OneJS=1&#038;Operation=GetAdHtml&#038;MarketPlace=IN&#038;source=ac&#038;ref=tf_til&#038;ad_type=product_link&#038;tracking_id=oraclenetwork-21&#038;marketplace=amazon&#038;region=IN&#038;placement=9351343707&#038;asins=9351343707&#038;linkId=05e71756840be5e9db4623ed9fa8585e&#038;show_border=true&#038;link_opens_in_new_window=false&#038;price_color=333333&#038;title_color=0066c0&#038;bg_color=ffffff\"><br \/>\n    <\/iframe><\/p>\n<p>&nbsp;<\/p>\n<h4><span style=\"color: #000000;\"><strong>SEE ALSO:<\/strong><\/span><\/h4>\n<ul style=\"list-style-type: square;\">\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/oracle-rac-12c-setup-using-virtual-box\/\" target=\"_blank\">Step by step &#8211; Setup Oracle Rac on virtual box\u00a0<\/a><\/span><\/li>\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/how-to-change-rac-database-name\/\" target=\"_blank\">Steps to Change RAC database name using nid<\/a>\u00a0<\/span><\/li>\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/how-to-convert-a-non-asm-instance-to-asm-instance\/\" target=\"_blank\">Steps to Convert Non-asm instance to ASM instance<\/a><\/span><\/li>\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/how-to-move-voting-disk-to-another-asm-disk\/\" target=\"_blank\">Steps to move voting disk to another diskgroup:<\/a><\/span><\/li>\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/applying-psu-patch-on-12c-rac-in-solaris\/\" target=\"_blank\">Steps to Apply PSU patch on Oracle 12c RAC ( in Solaris)<\/a><\/span><\/li>\n<li><span style=\"font-size: 12pt; font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\"><a style=\"color: #003366;\" href=\"https:\/\/dbaclass.com\/article\/applying-jvm-patch-in-oracle-12c-rac\/\" target=\"_blank\">Steps to Apply JVM patch on Oracle 12c Rac\u00a0<\/a><\/span><\/li>\n<li><a href=\"https:\/\/dbaclass.com\/article\/multiplex-controlfile-in-oracle-rac\/\" target=\"_blank\"><span style=\"color: #003366; font-family: 'trebuchet ms', geneva, sans-serif;\">Multiplex controlfile in Oracle RAC 12c<\/span><\/a><\/li>\n<li><a href=\"https:\/\/dbaclass.com\/article\/enable-archive-log-mode-in-oracle-rac\/\" target=\"_blank\"><span style=\"font-family: 'trebuchet ms', geneva, sans-serif; color: #003366;\">Enable archivelog mode in Oracle RAC<\/span><\/a><\/li>\n<li><span style=\"font-family: 'trebuchet ms', geneva, sans-serif;\"><a href=\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\" target=\"_blank\"><span style=\"color: #003366;\">Upgrade Grid infrastructure from 11g to 12C<\/span><\/a><\/span><\/li>\n<\/ul>\n","protected":false},"excerpt":{"rendered":"<p>\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Below are steps for upgrading Oracle grid infrastructure from 11.2.0.4 to 12.1.0.2 PRECHECK: 1. Check the active version:[ from grid owner] crsctl query crs activeversion Oracle Clusterware active version on the cluster is [11.2.0.4.0] 2.Collect the crs status by running below commands[ grid owner] \/crsapp\/app\/oracle\/product\/grid\/bin\/crsctl check crs \/crsapp\/app\/oracle\/product\/grid\/bin\/crsctl stat res [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"open","ping_status":"open","template":"template-full-width.php","meta":{"_bbp_topic_count":0,"_bbp_reply_count":0,"_bbp_total_topic_count":0,"_bbp_total_reply_count":0,"_bbp_voice_count":0,"_bbp_anonymous_reply_count":0,"_bbp_topic_count_hidden":0,"_bbp_reply_count_hidden":0,"_bbp_forum_subforum_count":0,"footnotes":""},"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Upgrade oracle grid infrastructure from 11g to 12c<\/title>\n<meta name=\"description\" content=\"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Upgrade oracle grid infrastructure from 11g to 12c\" \/>\n<meta property=\"og:description\" content=\"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..\" \/>\n<meta property=\"og:url\" content=\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\" \/>\n<meta property=\"og:site_name\" content=\"DBACLASS\" \/>\n<meta property=\"article:modified_time\" content=\"2017-01-18T02:17:51+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data1\" content=\"7 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\",\"url\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\",\"name\":\"Upgrade oracle grid infrastructure from 11g to 12c\",\"isPartOf\":{\"@id\":\"https:\/\/dbaclass.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\",\"datePublished\":\"2016-12-23T11:45:08+00:00\",\"dateModified\":\"2017-01-18T02:17:51+00:00\",\"description\":\"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..\",\"breadcrumb\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage\",\"url\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\",\"contentUrl\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png\",\"width\":809,\"height\":610},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/dbaclass.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Upgrade oracle grid infrastructure from 11g to 12C\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/dbaclass.com\/#website\",\"url\":\"https:\/\/dbaclass.com\/\",\"name\":\"DBACLASS\",\"description\":\"database administration\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/dbaclass.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Upgrade oracle grid infrastructure from 11g to 12c","description":"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/","og_locale":"en_US","og_type":"article","og_title":"Upgrade oracle grid infrastructure from 11g to 12c","og_description":"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..","og_url":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/","og_site_name":"DBACLASS","article_modified_time":"2017-01-18T02:17:51+00:00","og_image":[{"url":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png"}],"twitter_card":"summary_large_image","twitter_misc":{"Est. reading time":"7 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/","url":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/","name":"Upgrade oracle grid infrastructure from 11g to 12c","isPartOf":{"@id":"https:\/\/dbaclass.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage"},"image":{"@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage"},"thumbnailUrl":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png","datePublished":"2016-12-23T11:45:08+00:00","dateModified":"2017-01-18T02:17:51+00:00","description":"Upgrade oracle grid infrastructure from 11g to 12c, with easy steps. Download the software from OTN. Take backup of ocr\/vd. Run the cluvfy script..","breadcrumb":{"@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#primaryimage","url":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png","contentUrl":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/12\/grid1.png","width":809,"height":610},{"@type":"BreadcrumbList","@id":"https:\/\/dbaclass.com\/upgrade-oracle-grid-infrastructure-from-11g-to-12c\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/dbaclass.com\/"},{"@type":"ListItem","position":2,"name":"Upgrade oracle grid infrastructure from 11g to 12C"}]},{"@type":"WebSite","@id":"https:\/\/dbaclass.com\/#website","url":"https:\/\/dbaclass.com\/","name":"DBACLASS","description":"database administration","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/dbaclass.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"}]}},"_links":{"self":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages\/1441"}],"collection":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/comments?post=1441"}],"version-history":[{"count":0,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages\/1441\/revisions"}],"wp:attachment":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/media?parent=1441"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}