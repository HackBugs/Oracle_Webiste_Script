{"id":1331,"date":"2016-11-27T12:46:12","date_gmt":"2016-11-27T12:46:12","guid":{"rendered":"http:\/\/dbaclass.com\/?page_id=1331"},"modified":"2016-11-27T12:46:12","modified_gmt":"2016-11-27T12:46:12","slug":"upgrade-database-from-11g-to-12c-using-dbua","status":"publish","type":"page","link":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/","title":{"rendered":"Upgrade database from 11g to 12c using DBUA"},"content":{"rendered":"<p><span style=\"color: #000000;\">DBUA in oracle 12c simplifies the upgrade process a lot .\u00a0<\/span><\/p>\n<blockquote><p><span style=\"color: #000000;\"><a style=\"color: #000000;\" href=\"https:\/\/dbaclass.com\/article\/upgrade-database-from-11g-to-12c-manually\/\">SEE: Manual upgrade from 11g to 12c<\/a><\/span><\/p><\/blockquote>\n<p><span style=\"color: #000000;\">STEPS:<\/span><\/p>\n<h4><span style=\"color: #000000;\">PRE-REQUSITES:<\/span><\/h4>\n<p><span style=\"color: #000000;\"><strong>1. Install Oracle 12c RDMBS home<\/strong> &#8211; <a style=\"color: #000000;\" href=\"https:\/\/dbaclass.com\/article\/how-to-install-oracle-12c-on-linux\/\" target=\"_blank\">How to install oracle 12c binary\u00a0<\/a><\/span><\/p>\n<p><strong><span style=\"color: #000000;\">2.Enable flashback database:<\/span><\/strong><\/p>\n<p><span style=\"color: #000000;\">This is \u00a0to ensure that, if upgrade fails , we can restore it using guarantee restore point.<\/span><\/p>\n<p>&nbsp;<\/p>\n<pre>SQL&gt; alter system set db_recovery_file_dest_size=10G scope=both;\r\n\r\nSystem altered.\r\n\r\nSQL&gt; alter system set db_recovery_file_dest='\/dumparea\/FRA\/B2BRBMT3' scope=both;\r\n\r\nSystem altered.\r\n\r\nSQL&gt; alter database flashback on;\r\n\r\nDatabase altered.\r\n\r\nSQL&gt; startup force\r\n\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">3. Check whether all components are valid or not:<\/span><\/strong><\/p>\n<p>&nbsp;<\/p>\n<pre>set pagesize500\r\nset linesize 100\r\nselect substr(comp_name,1,40) comp_name, status, substr(version,1,10) version from dba_registry order by comp_name;\r\n\r\nCOMP_NAME                                STATUS      VERSION\r\n---------------------------------------- ----------- ----------\r\nJServer JAVA Virtual Machine             VALID       11.2.0.4.0\r\nOracle Application Express               VALID       3.2.1.00.1\r\nOracle Database Catalog Views            VALID       11.2.0.4.0\r\nOracle Database Java Packages            VALID       11.2.0.4.0\r\nOracle Database Packages and Types       VALID       11.2.0.4.0\r\nOracle Expression Filter                 VALID       11.2.0.4.0\r\nOracle Multimedia                        VALID       11.2.0.4.0\r\nOracle Rules Manager                     VALID       11.2.0.4.0\r\nOracle Text                              VALID       11.2.0.4.0\r\nOracle Workspace Manager                 VALID       11.2.0.4.0\r\nOracle XDK                               VALID       11.2.0.4.0\r\nOracle XML Database                      VALID       11.2.0.4.0\r\n\r\n12 rows selected.\r\n<\/pre>\n<p>&nbsp;<\/p>\n<p><span style=\"color: #000000;\"><strong>4. Make sure no invalid objects under sys or system schema:<\/strong><\/span><\/p>\n<pre class=\"\">select owner,object_type,count(*) from dba_objects where status='INVALID' group by owner,object_type order by owner,object_type ;\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">5. Run pre-upgrade tool:<\/span><\/strong><\/p>\n<p><span style=\"color: #000000;\">Copy the preupgrd.sql and utluppkg.sql script from Oracle 12c binary to any temporary location .<\/span><\/p>\n<p><span style=\"color: #000000; font-family: 'andale mono', monospace;\">cp \/oracle\/app\/oracle\/product\/12.1.0.2\/dbhome_1\/rdbms\/admin\/preupgrd.sql .<\/span><br \/>\n<span style=\"color: #000000; font-family: 'andale mono', monospace;\"> cp \/oracle\/app\/oracle\/product\/12.1.0.2\/dbhome_1\/rdbms\/admin\/utluppkg.sql .<\/span><\/p>\n<pre>SQL&gt; @preupgrd.sql\r\nLoading Pre-Upgrade Package...\r\n\r\n***************************************************************************\r\nExecuting Pre-Upgrade Checks in B2BRBMT3...\r\n***************************************************************************\r\n\r\n************************************************************\r\n\r\n====&gt;&gt; ERRORS FOUND for B2BRBMT3 &lt;&lt;==== The following are *** ERROR LEVEL CONDITIONS *** that must be addressed prior to attempting your upgrade. Failure to do so will result in a failed upgrade. 1) Check Tag: PURGE_RECYCLEBIN Check Summary: Check that recycle bin is empty prior to upgrade Fixup Summary: \"The recycle bin will be purged.\" You MUST resolve the above error prior to upgrade ************************************************************ ************************************************************ ====&gt;&gt; PRE-UPGRADE RESULTS for B2BRBMT3 &lt;&lt;====\r\n\r\nACTIONS REQUIRED:\r\n\r\n1. Review results of the pre-upgrade checks:\r\n\/oracle\/app\/oracle\/product\/11.2.0\/dbhome_Test\/cfgtoollogs\/B2BRBMT3\/preupgrade\/preupgrade.log\r\n\r\n2. Execute in the SOURCE environment BEFORE upgrade:\r\n\/oracle\/app\/oracle\/product\/11.2.0\/dbhome_Test\/cfgtoollogs\/B2BRBMT3\/preupgrade\/preupgrade_fixups.sql\r\n\r\n3. Execute in the NEW environment AFTER upgrade:\r\n\/oracle\/app\/oracle\/product\/11.2.0\/dbhome_Test\/cfgtoollogs\/B2BRBMT3\/preupgrade\/postupgrade_fixups.sql\r\n\r\n************************************************************\r\n\r\n***************************************************************************\r\nPre-Upgrade Checks in B2BRBMT3 Completed.\r\n***************************************************************************\r\n\r\n***************************************************************************\r\n\r\n<\/pre>\n<p><span style=\"color: #000000;\">In action required, it is providing preupgrade_fixup.sql scrip to run before upgrade. Run the same in 11g database<\/span><\/p>\n<pre>@\/oracle\/app\/oracle\/product\/11.2.0\/dbhome_Test\/cfgtoollogs\/B2BRBMT3\/preupgrade\/preupgrade_fixups.sql\r\n\r\nPre-Upgrade Fixup Script Generated on 2016-11-08 01:42:41  Version: 12.1.0.2 Build: 008\r\nBeginning Pre-Upgrade Fixups...\r\nExecuting in container B2BRBMT3\r\n\r\n**********************************************************************\r\nCheck Tag:     PURGE_RECYCLEBIN\r\nCheck Summary: Check that recycle bin is empty prior to upgrade\r\nFix Summary:   The recycle bin will be purged.\r\n**********************************************************************\r\nFixup Succeeded\r\n**********************************************************************\r\n\r\n\r\n**********************************************************************\r\nCheck Tag:     APEX_UPGRADE_MSG\r\nCheck Summary: Check that APEX will need to be upgraded.\r\nFix Summary:   Oracle Application Express can be manually upgraded prior to database upgrade.\r\n**********************************************************************\r\nFixup Returned Information:\r\nINFORMATION: --&gt; Oracle Application Express (APEX) can be\r\n     manually upgraded prior to database upgrade\r\n\r\n     APEX is currently at version 3.2.1.00.12 and will need to be\r\n     upgraded to APEX version 4.2.5 in the new release.\r\n     Note 1: To reduce database upgrade time, APEX can be manually\r\n             upgraded outside of and prior to database upgrade.\r\n     Note 2: See MOS Note 1088970.1 for information on APEX\r\n             installation upgrades.\r\n**********************************************************************\r\n\r\n\r\n**********************************************************************\r\n                      [Pre-Upgrade Recommendations]\r\n**********************************************************************\r\n\r\n                        *****************************************\r\n                        ********* Dictionary Statistics *********\r\n                        *****************************************\r\n\r\nPlease gather dictionary statistics 24 hours prior to\r\nupgrading the database.\r\nTo gather dictionary statistics execute the following command\r\nwhile connected as SYSDBA:\r\n    EXECUTE dbms_stats.gather_dictionary_stats;\r\n\r\n^^^ MANUAL ACTION SUGGESTED ^^^\r\n\r\n\r\n           **************************************************\r\n                ************* Fixup Summary ************\r\n\r\n 1 fixup routine was successful.\r\n 1 fixup routine returned INFORMATIONAL text that should be reviewed.\r\n\r\n**************** Pre-Upgrade Fixup Script Complete *********************\r\n\r\n\r\n<\/pre>\n<p><span style=\"color: #000000;\">Now review the output of this script. And take action manually, if those were not fixed by the script.<\/span><\/p>\n<p><span style=\"color: #000000;\">SQL&gt; EXECUTE dbms_stats.gather_dictionary_stats;<\/span><\/p>\n<p><span style=\"color: #000000;\">PL\/SQL procedure successfully completed.<\/span><\/p>\n<p><strong><span style=\"color: #000000;\">6. Purge aud$ table ( take backup if required)<\/span><\/strong><\/p>\n<pre>SQL&gt; truncate table sys.aud$;\r\n\r\nTable truncated.\r\n\r\nSQL&gt; truncate table sys.fga_log$;\r\n\r\nTable truncated.\r\n\r\n<\/pre>\n<p><span style=\"color: #000000;\"><strong>7 . Remove enterprise manager if installed:<\/strong><\/span><\/p>\n<p><span style=\"color: #000000;\">From 12c , enterprise manager has been decommissioned from 12c. Either we can use oracle 12c\/13c cloud control or enterprise database express for monitoring database.<\/span><\/p>\n<p><span style=\"color: #000000;\"><strong>Run below script to remove the EM component:<\/strong><\/span><\/p>\n<pre>sql&gt; connect \/ as sysdba\r\n\r\nsql&gt; spool emremoval.log\r\n\r\nsql&gt;@emremove.sql\r\n\r\nsql&gt; spool off\r\n\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">8. Check the ACLS present:<\/span><\/strong><\/p>\n<pre>SQL&gt; select aclid, start_date, end_date from xds_ace where start_date is not null;\r\n\r\nno rows selected\r\n<\/pre>\n<p><span style=\"color: #000000;\">If this query returns any row- Please make sure 20369415 is applied to the ORACLE 12C rdbms binary , before upgrade.<\/span><\/p>\n<h4><span style=\"color: #000000;\">UPGRADE:<\/span><\/h4>\n<p><span style=\"color: #000000;\">At this stage, we are still connected to 11g database which is up and running.<\/span><\/p>\n<p><span style=\"color: #000000;\">Now run the dbua utility from 12c oracle_home location.<\/span><\/p>\n<p><span style=\"color: #000000;\">cd \u00a0oracle\/app\/oracle\/product\/12.1.0.2\/dbhome_1\/bin<\/span><\/p>\n<p><strong><span style=\"color: #000000;\">.\/dbua<\/span><\/strong><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1346\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\" alt=\"upgrade_dbua1\" width=\"808\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13-600x452.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua2.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1335\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua2.jpg\" alt=\"upgrade_dbua2\" width=\"811\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua2.jpg 811w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua2-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua2-600x451.jpg 600w\" sizes=\"(max-width: 811px) 100vw, 811px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua3.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1336\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua3.jpg\" alt=\"upgrade_dbua3\" width=\"809\" height=\"608\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua3.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua3-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua3-600x451.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a><\/p>\n<p><span style=\"color: #000000;\">Select parallelism to required degree and <em><strong>select upgrade timezone<\/strong><\/em> , which will upgrade the timezone, after end of db upgrade.<\/span><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua4.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1337\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua4.jpg\" alt=\"upgrade_dbua4\" width=\"808\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua4.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua4-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua4-600x453.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua5.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1338\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua5.jpg\" alt=\"upgrade_dbua5\" width=\"809\" height=\"606\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua5.jpg 809w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua5-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua5-600x449.jpg 600w\" sizes=\"(max-width: 809px) 100vw, 809px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua6.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1339\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua6.jpg\" alt=\"upgrade_dbua6\" width=\"808\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua6.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua6-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua6-600x452.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua7.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1340\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua7.jpg\" alt=\"upgrade_dbua7\" width=\"806\" height=\"607\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua7.jpg 806w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua7-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua7-600x452.jpg 600w\" sizes=\"(max-width: 806px) 100vw, 806px\" \/><\/a><\/p>\n<p><span style=\"color: #000000;\">Make sure to select<strong> USE FLASHBACK OPTION:<\/strong> ( it will create a restore point automatically)<\/span><\/p>\n<p><a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua8.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1341\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua8.jpg\" alt=\"upgrade_dbua8\" width=\"807\" height=\"608\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua8.jpg 807w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua8-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua8-600x452.jpg 600w\" sizes=\"(max-width: 807px) 100vw, 807px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua9.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1342\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua9.jpg\" alt=\"upgrade_dbua9\" width=\"808\" height=\"609\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua9.jpg 808w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua9-300x226.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua9-600x452.jpg 600w\" sizes=\"(max-width: 808px) 100vw, 808px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua10.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1343\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua10.jpg\" alt=\"upgrade_dbua10\" width=\"810\" height=\"608\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua10.jpg 810w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua10-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua10-600x450.jpg 600w\" sizes=\"(max-width: 810px) 100vw, 810px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua11.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1344\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua11.jpg\" alt=\"upgrade_dbua11\" width=\"807\" height=\"606\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua11.jpg 807w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua11-300x225.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua11-600x451.jpg 600w\" sizes=\"(max-width: 807px) 100vw, 807px\" \/><\/a> <a href=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua12.jpg\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-1345\" src=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua12.jpg\" alt=\"upgrade_dbua12\" width=\"805\" height=\"610\" srcset=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua12.jpg 805w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua12-300x227.jpg 300w, https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua12-600x455.jpg 600w\" sizes=\"(max-width: 805px) 100vw, 805px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h4><span style=\"color: #000000;\">POST-UPGRADE:<\/span><\/h4>\n<p><strong><span style=\"color: #000000;\">1. Run the post upgrade script.<\/span><\/strong><\/p>\n<pre>SQL&gt; @\/oracle\/app\/oracle\/product\/11.2.0\/dbhome_Test\/cfgtoollogs\/B2BRBMT3\/preupgrade\/postupgrade_fixups.sql\r\nPost Upgrade Fixup Script Generated on 2016-11-08 01:42:41  Version: 12.1.0.2 Build: 008\r\nBeginning Post-Upgrade Fixups...\r\n\r\n**********************************************************************\r\nCheck Tag:     INVALID_OBJECTS_EXIST\r\nCheck Summary: Check for invalid objects\r\nFix Summary:   Invalid objects are displayed and must be reviewed.\r\n**********************************************************************\r\nFixup Returned Information:\r\nWARNING: --&gt; Database contains INVALID objects prior to upgrade\r\n\r\n     The list of invalid SYS\/SYSTEM objects was written to\r\n     registry$sys_inv_objs.\r\n     The list of non-SYS\/SYSTEM objects was written to\r\n     registry$nonsys_inv_objs unless there were over 5000.\r\n     Use utluiobj.sql after the upgrade to identify any new invalid\r\n     objects due to the upgrade.\r\n**********************************************************************\r\n\r\n\r\n**********************************************************************\r\nCheck Tag:     OLD_TIME_ZONES_EXIST\r\nCheck Summary: Check for use of older timezone data file\r\nFix Summary:   Update the timezone using the DBMS_DST package after upgrade is complete.\r\n**********************************************************************\r\nFixup Returned Information:\r\nINFORMATION: --&gt; Older Timezone in use\r\n\r\n     Database is using a time zone file older than version 18.\r\n     After the upgrade, it is recommended that DBMS_DST package\r\n     be used to upgrade the 12.1.0.2.0 database time zone version\r\n     to the latest version which comes with the new release.\r\n     Please refer to My Oracle Support note number 977512.1 for details.\r\n**********************************************************************\r\n\r\n\r\n**********************************************************************\r\n                     [Post-Upgrade Recommendations]\r\n**********************************************************************\r\n\r\n                        *****************************************\r\n                        ******** Fixed Object Statistics ********\r\n                        *****************************************\r\n\r\nPlease create stats on fixed objects two weeks\r\nafter the upgrade using the command:\r\n   EXECUTE DBMS_STATS.GATHER_FIXED_OBJECTS_STATS;\r\n\r\n^^^ MANUAL ACTION SUGGESTED ^^^\r\n\r\n\r\n           **************************************************\r\n                ************* Fixup Summary ************\r\n\r\n 2 fixup routines generated INFORMATIONAL messages that should be reviewed.\r\n\r\n*************** Post Upgrade Fixup Script Complete ********************\r\n\r\nPL\/SQL procedure successfully completed.\r\n\r\n\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">2. Check the timezone version:<\/span><\/strong><\/p>\n<pre class=\"\">SQL&gt; select * from v$timezone_file;\r\n\r\nFILENAME                VERSION     CON_ID\r\n-------------------- ---------- ----------\r\ntimezlrg_18.dat              18          0\r\n\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">3. Check invalid sys or system objects:<\/span><\/strong><\/p>\n<pre>SQL&gt; select * from registry$sys_inv_objs;\r\n\r\nno rows selected\r\n\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">4. Run utlrp.sql<\/span><\/strong><\/p>\n<pre>SQL&gt; @$ORACLE_HOME\/rdbms\/admin\/utlrp.sql\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">5. Check the status of registry component:<\/span><\/strong><\/p>\n<p><span style=\"color: #000000;\">Make sure all are in valid state:<\/span><\/p>\n<pre>SQL&gt; SQL&gt; SQL&gt; select comp_id,status from dba_registry;\r\n\r\nCOMP_ID                        STATUS\r\n------------------------------ -----------\r\nAPEX                           VALID\r\nORDIM                          VALID\r\nXDB                            VALID\r\nCONTEXT                        VALID\r\nOWM                            VALID\r\nCATALOG                        VALID\r\nCATPROC                        VALID\r\nJAVAVM                         VALID\r\nXML                            VALID\r\nCATJAVA                        VALID\r\n\r\n10 rows selected.\r\n<\/pre>\n<p><strong><span style=\"color: #000000;\">6. Disable flashback and drop restore point:<\/span><\/strong><\/p>\n<p><span style=\"color: #000000;\">Once confirmed that upgrade is successfully, then disable the flashback mode and drop the restore point;<\/span><\/p>\n<pre>Alter database flashback off;\r\n\r\n\r\n-- get the restore point from v$restore_point:\r\n\r\nDrop restore point GRP_1478559837445; \r\n\r\n<\/pre>\n","protected":false},"excerpt":{"rendered":"<p>DBUA in oracle 12c simplifies the upgrade process a lot .\u00a0 SEE: Manual upgrade from 11g to 12c STEPS: PRE-REQUSITES: 1. Install Oracle 12c RDMBS home &#8211; How to install oracle 12c binary\u00a0 2.Enable flashback database: This is \u00a0to ensure that, if upgrade fails , we can restore it using guarantee restore point. &nbsp; SQL&gt; [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"open","ping_status":"open","template":"template-full-width.php","meta":{"_bbp_topic_count":0,"_bbp_reply_count":0,"_bbp_total_topic_count":0,"_bbp_total_reply_count":0,"_bbp_voice_count":0,"_bbp_anonymous_reply_count":0,"_bbp_topic_count_hidden":0,"_bbp_reply_count_hidden":0,"_bbp_forum_subforum_count":0,"footnotes":""},"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v22.7 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Upgrade database from 11g to 12c using DBUA<\/title>\n<meta name=\"description\" content=\"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Upgrade database from 11g to 12c using DBUA\" \/>\n<meta property=\"og:description\" content=\"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/\" \/>\n<meta property=\"og:site_name\" content=\"DBACLASS\" \/>\n<meta property=\"og:image\" content=\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data1\" content=\"6 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/\",\"url\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/\",\"name\":\"Upgrade database from 11g to 12c using DBUA\",\"isPartOf\":{\"@id\":\"https:\/\/dbaclass.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\",\"datePublished\":\"2016-11-27T12:46:12+00:00\",\"dateModified\":\"2016-11-27T12:46:12+00:00\",\"description\":\"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.\",\"breadcrumb\":{\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"en-US\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage\",\"url\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\",\"contentUrl\":\"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg\",\"width\":808,\"height\":609},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/dbaclass.com\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Upgrade database from 11g to 12c using DBUA\"}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/dbaclass.com\/#website\",\"url\":\"https:\/\/dbaclass.com\/\",\"name\":\"DBACLASS\",\"description\":\"database administration\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/dbaclass.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Upgrade database from 11g to 12c using DBUA","description":"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/","og_locale":"en_US","og_type":"article","og_title":"Upgrade database from 11g to 12c using DBUA","og_description":"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.","og_url":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/","og_site_name":"DBACLASS","og_image":[{"url":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg"}],"twitter_card":"summary_large_image","twitter_misc":{"Est. reading time":"6 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/","url":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/","name":"Upgrade database from 11g to 12c using DBUA","isPartOf":{"@id":"https:\/\/dbaclass.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage"},"image":{"@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage"},"thumbnailUrl":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg","datePublished":"2016-11-27T12:46:12+00:00","dateModified":"2016-11-27T12:46:12+00:00","description":"Upgrade database from 11g to 12c using DBUA. In manual upgrade, most of the activities need dba intervention .Below are the steps for upgrade to 12c using DBUA.","breadcrumb":{"@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/"]}]},{"@type":"ImageObject","inLanguage":"en-US","@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#primaryimage","url":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg","contentUrl":"https:\/\/dbaclass.com\/wp-content\/uploads\/2016\/11\/upgrade_dbua13.jpg","width":808,"height":609},{"@type":"BreadcrumbList","@id":"https:\/\/dbaclass.com\/upgrade-database-from-11g-to-12c-using-dbua\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/dbaclass.com\/"},{"@type":"ListItem","position":2,"name":"Upgrade database from 11g to 12c using DBUA"}]},{"@type":"WebSite","@id":"https:\/\/dbaclass.com\/#website","url":"https:\/\/dbaclass.com\/","name":"DBACLASS","description":"database administration","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/dbaclass.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"}]}},"_links":{"self":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages\/1331"}],"collection":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/comments?post=1331"}],"version-history":[{"count":0,"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/pages\/1331\/revisions"}],"wp:attachment":[{"href":"https:\/\/dbaclass.com\/wp-json\/wp\/v2\/media?parent=1331"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}